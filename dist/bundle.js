(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function t(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}const n=function(e,t,o,n,r,a){var c=document.querySelector(e),l=document.querySelector(t),s=document.querySelectorAll(o),i=document.querySelector(n),u=document.querySelector(r),d=a,m=d,f=0,y=function(){c.style.cssText="overflow: hidden !important;",l.style.cssText="display: flex !important; transition: transform 0.5s ease !important; will-change: transform !important",s.forEach((function(e){e.style.cssText="flex: 0 0 ".concat(Math.floor(100/d),"% !important; margin: 0 auto !important;")}))},p=function(){document.documentElement.clientWidth<576?(d=1,y()):(d=m,y())};y(),p(),i.addEventListener("click",(function(){--f<0&&(f=s.length-d),l.style.transform="translateX(-".concat(f*Math.floor(100/d),"%)")})),u.addEventListener("click",(function(){++f>s.length-d&&(f=0),l.style.transform="translateX(-".concat(f*Math.floor(100/d),"%)")})),window.addEventListener("resize",p)};var r,a,c,l,s,i,u,d,m,f,y,p,h,v,b,g,w,x,S,E,_,A,q,T;q=document.getElementById("calc"),T=document.getElementById("calc-total"),q&&q.addEventListener("input",(function(e){var t=e.target;t.matches("#calc-type")&&(E=+t.value),t.matches("#calc-type-material")&&(_=+t.value),t.matches("#calc-input")&&(A=+t.value),function(){if(E&&_&&A){var e=(E*_*A).toFixed(2);localStorage.setItem("Итого",e),T.value=e}}()})),w=document.querySelector(".header-modal"),x=document.querySelector(".overlay"),S=document.querySelector(".services-modal"),document.body.addEventListener("click",(function(e){var t=e.target;t.closest(".btn-callback")&&(e.preventDefault(),w.style.display="block",x.style.display="block",document.body.style.overflow="hidden"),t.matches(".header-modal__close")&&(e.preventDefault(),w.style.display="none",x.style.display="none",document.body.style.overflow=""),t.closest(".service-button")&&(e.preventDefault(),console.log(t),S.style.display="block",x.style.display="block",document.body.style.overflow="hidden"),t.matches(".services-modal__close")&&(e.preventDefault(),S.style.display="none",x.style.display="none",document.body.style.overflow="")})),function(){var t=document.querySelectorAll(".form-horizontal, .callback-form, .application-form"),o=document.createElement("div");o.style.cssText="text-align: center; color: rgb(0, 144, 42);";var n=function(){document.querySelectorAll(".form-horizontal, .callback-form, .application-form").forEach((function(t){var n;(n=t.elements,function(t){if(Array.isArray(t))return e(t)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(t,o){if(t){if("string"==typeof t)return e(t,o);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,o):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e){"INPUT"===e.tagName&&(e.value="",e.style.border="")})),setTimeout((function(){o.innerHTML=""}),4e3)}))};t.forEach((function(e){e.addEventListener("submit",(function(t){t.preventDefault(),e.appendChild(o),o.textContent="Отправка данных...";var r=new FormData(e),a={};r.forEach((function(e,t){a[t]=e}));var c=localStorage.getItem("Итого");a["Итого"]=c,function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}(a).then((function(e){if(200!==e.status)throw new Error("status network is not 200");o.textContent="Спасибо! Ваша заявка принята.",n()})).catch((function(e){o.textContent="Что-то пошло не так...",console.error(e),n()}))}))}))}(),m=/^\+?[78]\d{10}$/,f=/^[а-яёa-z\s?]{2,}$/i,y=/^[а-яё\s\-]+$/i,p=/^[\w\-\.!~\*`]+@[\w\-\.!~\*`]+\.\w{2,}$/,h=new Set,v=function(e){e.closest("form").querySelector("button").disabled=!0},b=function(e,t,o){var n;n=e,t.test(n)?(function(e){e.style.cssText="border: 2px solid green; box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(0, 144, 42, 0.6); -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(0, 144, 42, 0.6);"}(o),h.delete(o)):(function(e){e.style.cssText="border: 2px solid #f00; box-shadow: inset 0 1px 1px rgba(255, 0, 0, 0.075), 0 0 8px rgba(220, 0, 0, 0.6); -webkit-box-shadow: inset 0 1px 1px rgba(255, 0, 0, 0.075), 0 0 8px rgba(220, 0, 0, 0.6);"}(o),h.add(o),v(o)),0===h.size&&function(e){e.closest("form").querySelector("button").disabled=!1}(o)},g=document.querySelectorAll("form"),document.body.addEventListener("mouseover",(function(e){var o=e.target;o.matches("form button")&&t(o.closest("form").elements).forEach((function(e){e.matches(".form-control")&&""===e.value&&v(e)}))})),g.forEach((function(e){e.addEventListener("submit",(function(o){t(e.elements).forEach((function(e){"INPUT"===e.tagName&&(e.style.cssText="border: inherit; box-shadow: none;")}))}))})),document.body.addEventListener("input",(function(e){var t=e.target,o=t.value;t.matches(".form-phone")&&b(o,m,t),t.matches(".form-name, #form2-name")&&b(o,f,t),t.matches(".form-email")&&b(o,p,t),t.matches(".mess")&&b(o,y,t)})),function(){var e=document.querySelector("#documents"),t=document.querySelector(".overlay"),o=document.querySelector(".document-modal"),n=document.querySelector(".document-modal img"),r=document.querySelector(".document-close");e.addEventListener("click",(function(e){var r=e.target;if(r.matches(".document-overlay")){e.preventDefault(),t.style.display="block";var a=r.closest("a").getAttribute("href");n.setAttribute("src",a),o.classList.toggle("document-modal__active")}})),r.addEventListener("click",(function(){t.style.display="none",o.classList.toggle("document-modal__active")}))}(),n(".benefits-inner",".benefits-wrap",".benefits__item",".benefits__arrow--left",".benefits__arrow--right",3),n(".slider",".slider-wrapper",".slider-slide",".services__arrow--left",".services__arrow--right",2),u=document.querySelector(".smooth-scroll"),d=document.getElementById("benefits"),window.addEventListener("scroll",(function(){window.pageYOffset>d.offsetTop?u.classList.add("smooth-scroll__active"):u.classList.remove("smooth-scroll__active")})),u.addEventListener("click",(function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})),r="26 september 2021",a=document.querySelectorAll(".count_1 span"),c=document.querySelectorAll(".count_2 span"),l=document.querySelectorAll(".count_3 span"),s=document.querySelectorAll(".count_4 span"),i=setInterval((function(){var e,t,o,n,u=(e=(new Date(r).getTime()-(new Date).getTime())/1e3,t=Math.floor(e%60),o=Math.floor(e/60%60),n=Math.floor(e/60/60%24),{timerRemaining:e,days:Math.floor(e/60/60/24),hours:n,minutes:o,seconds:t});a.forEach((function(e){e.textContent=u.days<=9?"0"+u.days:u.days})),c.forEach((function(e){e.textContent=u.hours<=9?"0"+u.hours:u.hours})),l.forEach((function(e){e.textContent=u.minutes<=9?"0"+u.minutes:u.minutes})),s.forEach((function(e){e.textContent=u.seconds<=9?"0"+u.seconds:u.seconds})),u.timerRemaining<0&&(a.textContent="00",c.textContent="00",l.textContent="00",s.textContent="00",clearInterval(i))}),1e3)})();